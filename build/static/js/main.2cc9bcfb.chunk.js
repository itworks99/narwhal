(this.webpackJsonpnarwhal_web=this.webpackJsonpnarwhal_web||[]).push([[0],{303:function(e,t){},305:function(e,t){},456:function(e,t,a){"use strict";a.r(t);var l=a(0),c=a(51),s=a.n(c),n=(a(280),a(24)),r=a(471),j=a(475),i=a(257),d=a(258),b=a(144),x=a(116),h=a(113),o=a(261),O=a(240),u=a.n(O),v=a(485),m=a(262),y=a(480),A=a(147),g=a(486),C=a(487),p=a(484),k=a(99),f=a(482),S=a(476),w=a(478),D=a(488),E=a(481),_=a(477),z=["#8E3642","#A42150","#BC3148","#DA1E45","#F5D03E","#7AA543","#6C99D7","#CCD3D9"],B=[{key:0,text:"Emergency",value:0},{key:1,text:"Alert",value:1},{key:2,text:"Critical",value:2},{key:3,text:"Error",value:3},{key:4,text:"Warning",value:4},{key:5,text:"Notice",value:5},{key:6,text:"Informational",value:6},{key:7,text:"Debug",value:7}],I=[{key:0,text:"kern",value:0},{key:1,text:"user",value:1},{key:2,text:"mail",value:2},{key:3,text:"daemon",value:3},{key:4,text:"auth",value:4},{key:5,text:"syslog",value:5},{key:6,text:"lpr",value:6},{key:7,text:"news",value:7},{key:8,text:"uucp",value:8},{key:9,text:"cron",value:9},{key:10,text:"authpriv",value:10},{key:11,text:"ftp",value:11},{key:12,text:"ntp",value:12},{key:13,text:"security",value:13},{key:14,text:"console",value:14},{key:15,text:"solaris-cron",value:15},{key:16,text:"local0",value:16},{key:17,text:"local1",value:17},{key:18,text:"local2",value:18},{key:19,text:"local3",value:19},{key:20,text:"local4",value:20},{key:21,text:"local5",value:21},{key:22,text:"local6",value:22},{key:23,text:"local7",value:23}],V=a(2),L=a(299);var N=function(){var e=Object(l.useState)(!1),t=Object(n.a)(e,2),a=t[0],c=t[1],s=Object(l.useState)(),O=Object(n.a)(s,2),N=O[0],R=O[1],T=Object(l.useState)(null),M=Object(n.a)(T,2),U=M[0],q=M[1],H=Object(l.useState)(!0),G=Object(n.a)(H,2),J=G[0],K=G[1],F=Object(l.useState)(0),P=Object(n.a)(F,2),Q=P[0],W=P[1],Z=Object(l.useState)("dashboard"),X=Object(n.a)(Z,2),Y=X[0],$=X[1];Object(l.useEffect)((function(){var e=u.a.create({httpsAgent:new L.Agent({keepAlive:!0,rejectUnauthorized:!1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PUT, GET, POST, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Accept, Content-Type, X-Requested-With"}})});function t(){var t,a=Q+1;1===a&&(K(!0),t="/server_data",e.get(t).then((function(e){R(JSON.parse(e.request.responseText))})).catch((function(e){console.log(e)})),function(t){e.get(t).then((function(e){q(JSON.parse(e.request.responseText)),c(!0)})).catch((function(e){console.log(e)}))}("/server_events"),N&&K(!1)),30===a&&(a=0),W(a)}var a=setInterval((function(){return t()}),1e3);return function(){clearInterval(a)}}));var ee=function(e,t){var a=t.value;$(a)},te=Object(V.jsxs)(v.a,{inverted:!0,children:[Object(V.jsx)(m.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD8SURBVDiN7ZTPSkJREMZ/c7wUdiHk5h9oE+FKohbiLlxIb9LKjS/gzq20FukReoJw4yO4CSJI2wQqKEEgnqvnel0ItjlSVySQ+pYD82M+5psRHp5Cdii1S9jvAq+TR9SvMijg9jzBY/GMUtr9FujYirWLNNVcEkeEUsql4MUBuMm4VDp9mt2PaMBDJTgiABS8OGM/AIGTgxiN/CmLEO57dqjV8t3LCBOulj/UhsvWK8X2GzoIEaCc9TZOaAWOZgEDbQB4n87pa8Pzp093Mls7iAQEmJgFAJtbIwK3TfseB/sf+GNZTw9gMDW4McXQD75q2nDsqHXobZK/92CXSkpH/wfqSDoAAAAASUVORK5CYII=",verticalAlign:"middle",size:"medium"}),Object(V.jsxs)(v.a.Content,{children:["Narwhal",Object(V.jsx)(v.a.Subheader,{children:"ver.0.2"})]})]});if(!J){var ae="";"dashboard"===Y&&(ae=Object(V.jsx)(C.a,{stretched:!0,padded:!0,relaxed:"very",children:Object(V.jsxs)(C.a.Column,{mobile:16,tablet:13,computer:14,id:"content",children:[Object(V.jsx)(C.a.Row,{children:Object(V.jsxs)(C.a,{padded:!0,relaxed:!0,columns:"equal",children:[Object(V.jsx)(C.a.Column,{children:Object(V.jsxs)(p.a.Group,{size:"small",children:[Object(V.jsxs)(p.a,{children:[Object(V.jsx)(p.a.Value,{children:N.total_events}),Object(V.jsx)(p.a.Label,{children:" log entries "})]}),Object(V.jsxs)(p.a,{color:"red",children:[Object(V.jsx)(p.a.Value,{children:N.logAlertCount}),Object(V.jsx)(p.a.Label,{children:" alerts "})]}),Object(V.jsxs)(p.a,{color:"yellow",children:[Object(V.jsx)(p.a.Value,{children:N.logWarningsCount}),Object(V.jsx)(p.a.Label,{children:" warnings "})]}),Object(V.jsxs)(p.a,{color:"green",children:[Object(V.jsx)(p.a.Value,{children:N.logMessageCount}),Object(V.jsx)(p.a.Label,{children:" messages "})]})]})}),Object(V.jsx)(C.a.Column,{children:Object(V.jsxs)(p.a.Group,{size:"small",children:[Object(V.jsxs)(p.a,{children:[Object(V.jsx)(p.a.Value,{children:N.messages_per_second}),Object(V.jsx)(p.a.Label,{children:" msg / sec "})]}),Object(V.jsxs)(p.a,{children:[Object(V.jsx)(p.a.Value,{children:N.seconds_between_messages}),Object(V.jsx)(p.a.Label,{children:" avg.interval, sec. "})]})]})}),Object(V.jsx)(C.a.Column,{children:Object(V.jsxs)(p.a.Group,{size:"small",children:[Object(V.jsxs)(p.a,{children:[Object(V.jsx)(p.a.Value,{children:N.redis_used_memory_human}),Object(V.jsx)(p.a.Label,{children:" used redis memory "})]}),Object(V.jsxs)(p.a,{children:[Object(V.jsx)(p.a.Value,{children:N.redis_total_system_memory_human}),Object(V.jsx)(p.a.Label,{children:" total redis memory "})]})]})})]})}),Object(V.jsx)(C.a.Row,{children:Object(V.jsxs)(r.a,{height:250,width:1200,margin:{top:20,right:10,bottom:10,left:10},children:[Object(V.jsx)(j.a,{}),Object(V.jsx)(i.a,{type:"category",dataKey:"x",name:"timeline"}),Object(V.jsx)(d.a,{type:"number",dataKey:"y",name:"severity"}),Object(V.jsx)(b.a,{type:"number",dataKey:"z",name:"amount",unit:"log records"}),Object(V.jsx)(x.a,{cursor:{strokeDasharray:"3 3"}}),Object(V.jsx)(h.a,{}),Object(V.jsx)(o.a,{name:B[0].text,data:N.ChartData0,fill:z[0]}),Object(V.jsx)(o.a,{name:B[1].text,data:N.ChartData1,fill:z[1]}),Object(V.jsx)(o.a,{name:B[2].text,data:N.ChartData2,fill:z[2]}),Object(V.jsx)(o.a,{name:B[3].text,data:N.ChartData3,fill:z[3]}),Object(V.jsx)(o.a,{name:B[4].text,data:N.ChartData4,fill:z[4]}),Object(V.jsx)(o.a,{name:B[5].text,data:N.ChartData5,fill:z[5]}),Object(V.jsx)(o.a,{name:B[6].text,data:N.ChartData6,fill:z[6]}),Object(V.jsx)(o.a,{name:B[7].text,data:N.ChartData7,fill:z[7]})]})}),Object(V.jsx)(C.a.Row,{children:function(){var e=[];if(!0===a)for(var t=0;t<U.dt.length;t+=1){var l="yellow";U.severity[t]<4&&(l="red"),5===U.severity[t]&&(l="green"),6===U.severity[t]&&(l="blue"),7===U.severity[t]&&(l="grey"),e[t]=Object(V.jsxs)(y.a.Row,{children:[Object(V.jsx)(y.a.Cell,{children:Object(V.jsx)(A.a,{circular:!0,color:l,children:Object(V.jsx)("b",{children:U.n[t]})})}),Object(V.jsx)(y.a.Cell,{children:Object(V.jsx)(v.a,{size:"tiny",children:Object(V.jsxs)(v.a.Content,{children:[B[U.severity[t]].text,Object(V.jsx)(v.a.Subheader,{children:I[U.facility[t]].text})]})})}),Object(V.jsx)(y.a.Cell,{children:Object(V.jsx)(v.a,{size:"tiny",children:Object(V.jsxs)(v.a.Content,{children:[U.timestamp[t],Object(V.jsx)(v.a.Subheader,{children:U.dt[t]})]})})}),Object(V.jsx)(y.a.Cell,{children:Object(V.jsx)(v.a,{size:"tiny",children:Object(V.jsxs)(v.a.Content,{children:[U.ip[t],Object(V.jsx)(v.a.Subheader,{children:U.endpoint[t]})]})})}),Object(V.jsx)(y.a.Cell,{children:Object(V.jsx)(v.a,{size:"tiny",children:Object(V.jsxs)(v.a.Content,{children:[U.system[t],Object(V.jsx)(v.a.Subheader,{children:U.event[t]})]})})})]},"eventTableRow".concat(t))}else e=null;return Object(V.jsx)(g.a,{basic:!0,padded:!1,children:Object(V.jsxs)(y.a,{compact:"very",striped:!0,selectable:!0,size:"small",children:[Object(V.jsx)(y.a.Header,{children:Object(V.jsxs)(y.a.Row,{children:[Object(V.jsx)(y.a.HeaderCell,{children:" N "}),Object(V.jsx)(y.a.HeaderCell,{children:" Sev/Facility "}),Object(V.jsx)(y.a.HeaderCell,{children:" Timestamp/Received at "}),Object(V.jsx)(y.a.HeaderCell,{children:" Source/Endpoint "}),Object(V.jsx)(y.a.HeaderCell,{children:" System / Message "})]})}),Object(V.jsx)(y.a.Body,{children:e})]})})}()})]})})),"data"===Y&&(ae=Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(v.a,{textAlign:"center",children:"Download data:"}),Object(V.jsxs)(C.a,{columns:3,children:[Object(V.jsx)(C.a.Column,{}),Object(V.jsx)(C.a.Column,{children:Object(V.jsx)(g.a,{placeholder:!0,children:Object(V.jsxs)(C.a,{columns:3,padded:"vertically",textAlign:"center",verticalAlign:"middle",children:[Object(V.jsxs)(C.a.Column,{children:[Object(V.jsxs)(v.a,{icon:!0,children:[Object(V.jsx)(k.a,{name:"file excel outline"}),"CSV"]}),Object(V.jsx)(f.a,{children:Object(V.jsx)("a",{href:"/csv_alerts",children:"Alerts only"})}),Object(V.jsx)(S.a,{hidden:!0}),Object(V.jsx)(f.a,{children:Object(V.jsx)("a",{href:"/csv_all",children:"All events"})})]}),Object(V.jsx)(C.a.Column,{children:Object(V.jsx)(S.a,{vertical:!0,children:"Or"})}),Object(V.jsxs)(C.a.Column,{children:[Object(V.jsxs)(v.a,{icon:!0,children:[Object(V.jsx)(k.a,{name:"file code outline"}),"JSON"]}),Object(V.jsx)(f.a,{children:Object(V.jsx)("a",{href:"/json_alerts",children:"Alerts only"})}),Object(V.jsx)(S.a,{hidden:!0}),Object(V.jsx)(f.a,{children:Object(V.jsx)("a",{href:"/json_all",children:"All events"})})]})]})})}),Object(V.jsx)(C.a.Column,{})]})]}));var le=Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(w.a.Item,{header:!0,children:te}),Object(V.jsxs)(w.a.Item,{header:!0,value:"dashboard",onClick:ee,children:[Object(V.jsx)(k.a,{name:"heartbeat",size:"large"}),"Dashboard"]}),Object(V.jsxs)(w.a.Item,{header:!0,value:"data",onClick:ee,children:[Object(V.jsx)(k.a,{name:"book",size:"large"}),"Data export"]})]});return Object(V.jsxs)(D.a.Pushable,{as:g.a,children:[Object(V.jsx)(D.a,{as:w.a,animation:"slide along",inverted:!0,vertical:!0,visible:!0,width:"thin",children:le}),Object(V.jsx)(D.a.Pusher,{children:Object(V.jsx)(g.a,{basic:!0,children:ae})})]})}return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(E.a,{inverted:!0,active:J,children:Object(V.jsx)(_.a,{size:"massive",children:" Loading "})})})};s.a.render(Object(V.jsx)(N,{}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.2cc9bcfb.chunk.js.map