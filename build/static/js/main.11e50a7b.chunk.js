(this.webpackJsonpnarwhal_web=this.webpackJsonpnarwhal_web||[]).push([[0],{257:function(e,a,t){e.exports=t(504)},447:function(e,a){},449:function(e,a){},504:function(e,a,t){"use strict";t.r(a);var l=t(1),n=t.n(l),r=t(31),c=t.n(r),m=(t(262),t(44)),u=t(19),o=t(213),s=t.n(o),i=t(521),E=t(223),d=t(513),v=t(94),y=t(519),h=t(520),b=t(517),x=t(59),g=t(518),C=t(510),k=t(516),p=t(515),f=t(514),w=t(511),A=["#8E3642","#A42150","#BC3148","#DA1E45","#F5D03E","#7AA543","#6C99D7","#CCD3D9"],O=[{key:0,text:"Emergency",value:0},{key:1,text:"Alert",value:1},{key:2,text:"Critical",value:2},{key:3,text:"Error",value:3},{key:4,text:"Warning",value:4},{key:5,text:"Notice",value:5},{key:6,text:"Informational",value:6},{key:7,text:"Debug",value:7}],S=[{key:0,text:"kern",value:0},{key:1,text:"user",value:1},{key:2,text:"mail",value:2},{key:3,text:"daemon",value:3},{key:4,text:"auth",value:4},{key:5,text:"syslog",value:5},{key:6,text:"lpr",value:6},{key:7,text:"news",value:7},{key:8,text:"uucp",value:8},{key:9,text:"cron",value:9},{key:10,text:"authpriv",value:10},{key:11,text:"ftp",value:11},{key:12,text:"ntp",value:12},{key:13,text:"security",value:13},{key:14,text:"console",value:14},{key:15,text:"solaris-cron",value:15},{key:16,text:"local0",value:16},{key:17,text:"local1",value:17},{key:18,text:"local2",value:18},{key:19,text:"local3",value:19},{key:20,text:"local4",value:20},{key:21,text:"local5",value:21},{key:22,text:"local6",value:22},{key:23,text:"local7",value:23}],_="ver.0.2",D="/server_data",j="/server_events",z=t(442);var L=function(){var e=Object(l.useState)(!1),a=Object(m.a)(e,2),t=a[0],r=a[1],c=Object(l.useState)(),o=Object(m.a)(c,2),L=o[0],R=o[1],T=Object(l.useState)(null),V=Object(m.a)(T,2),I=V[0],H=V[1],N=Object(l.useState)(!0),J=Object(m.a)(N,2),P=J[0],W=J[1],q=Object(l.useState)(0),B=Object(m.a)(q,2),F=B[0],G=B[1],K=Object(l.useState)("dashboard"),M=Object(m.a)(K,2),U=M[0],X=M[1];Object(l.useEffect)((function(){var e=s.a.create({httpsAgent:new z.Agent({keepAlive:!0,rejectUnauthorized:!1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PUT, GET, POST, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Accept, Content-Type, X-Requested-With"}})});function a(){var a,t=F+1;1===t&&(W(!0),a=D,e.get(a).then((function(e){R(JSON.parse(e.request.responseText))})).catch((function(e){console.log(e)})),function(a){e.get(a).then((function(e){H(JSON.parse(e.request.responseText)),r(!0)})).catch((function(e){console.log(e)}))}(j),L&&W(!1)),30===t&&(t=0),G(t)}var t=setInterval((function(){return a()}),1e3);return function(){clearInterval(t)}}));var $=function(e,a){var t=a.value;X(t)},Q=n.a.createElement(i.a,{inverted:!0},n.a.createElement(E.a,{src:"nlogo.png",verticalAlign:"middle",size:"medium"}),n.a.createElement(i.a.Content,null,"Narwhal",n.a.createElement(i.a.Subheader,null,_)));if(!P){var Y="";"dashboard"===U&&(Y=n.a.createElement(h.a,{stretched:!0,padded:!0,relaxed:"very"},n.a.createElement(h.a.Column,{mobile:16,tablet:13,computer:14,id:"content"},n.a.createElement(h.a.Row,null,n.a.createElement(h.a,{padded:!0,relaxed:!0,columns:"equal"},n.a.createElement(h.a.Column,null,n.a.createElement(b.a.Group,{size:"small"},n.a.createElement(b.a,null,n.a.createElement(b.a.Value,null,L.total_events),n.a.createElement(b.a.Label,null," log entries ")),n.a.createElement(b.a,{color:"red"},n.a.createElement(b.a.Value,null,L.logAlertCount),n.a.createElement(b.a.Label,null," alerts ")),n.a.createElement(b.a,{color:"yellow"},n.a.createElement(b.a.Value,null,L.logWarningsCount),n.a.createElement(b.a.Label,null," warnings ")),n.a.createElement(b.a,{color:"green"},n.a.createElement(b.a.Value,null,L.logMessageCount),n.a.createElement(b.a.Label,null," messages ")))),n.a.createElement(h.a.Column,null,n.a.createElement(b.a.Group,{size:"small"},n.a.createElement(b.a,null,n.a.createElement(b.a.Value,null,L.messages_per_second),n.a.createElement(b.a.Label,null," msg / sec ")),n.a.createElement(b.a,null,n.a.createElement(b.a.Value,null,L.seconds_between_messages),n.a.createElement(b.a.Label,null," avg.interval, sec. ")))),n.a.createElement(h.a.Column,null,n.a.createElement(b.a.Group,{size:"small"},n.a.createElement(b.a,null,n.a.createElement(b.a.Value,null,L.redis_used_memory_human),n.a.createElement(b.a.Label,null," used redis memory ")),n.a.createElement(b.a,null,n.a.createElement(b.a.Value,null,L.redis_total_system_memory_human),n.a.createElement(b.a.Label,null," total redis memory ")))))),n.a.createElement(h.a.Row,null,n.a.createElement(u.d,{height:250,width:1200,margin:{top:20,right:10,bottom:10,left:10}},n.a.createElement(u.a,null),n.a.createElement(u.f,{type:"category",dataKey:"x",name:"timeline"}),n.a.createElement(u.g,{type:"number",dataKey:"y",name:"severity"}),n.a.createElement(u.h,{type:"number",dataKey:"z",name:"amount",unit:"log records"}),n.a.createElement(u.e,{cursor:{strokeDasharray:"3 3"}}),n.a.createElement(u.b,null),n.a.createElement(u.c,{name:O[0].text,data:L.ChartData0,fill:A[0]}),n.a.createElement(u.c,{name:O[1].text,data:L.ChartData1,fill:A[1]}),n.a.createElement(u.c,{name:O[2].text,data:L.ChartData2,fill:A[2]}),n.a.createElement(u.c,{name:O[3].text,data:L.ChartData3,fill:A[3]}),n.a.createElement(u.c,{name:O[4].text,data:L.ChartData4,fill:A[4]}),n.a.createElement(u.c,{name:O[5].text,data:L.ChartData5,fill:A[5]}),n.a.createElement(u.c,{name:O[6].text,data:L.ChartData6,fill:A[6]}),n.a.createElement(u.c,{name:O[7].text,data:L.ChartData7,fill:A[7]}))),n.a.createElement(h.a.Row,null,function(){var e=[];if(!0===t)for(var a=0;a<I.dt.length;a+=1){var l="yellow";I.severity[a]<4&&(l="red"),5===I.severity[a]&&(l="green"),6===I.severity[a]&&(l="blue"),7===I.severity[a]&&(l="grey"),e[a]=n.a.createElement(d.a.Row,{key:"eventTableRow".concat(a)},n.a.createElement(d.a.Cell,null,n.a.createElement(v.a,{circular:!0,color:l},n.a.createElement("b",null,I.n[a]))),n.a.createElement(d.a.Cell,null,n.a.createElement(i.a,{size:"tiny"},n.a.createElement(i.a.Content,null,O[I.severity[a]].text,n.a.createElement(i.a.Subheader,null,S[I.facility[a]].text)))),n.a.createElement(d.a.Cell,null,n.a.createElement(i.a,{size:"tiny"},n.a.createElement(i.a.Content,null,I.timestamp[a],n.a.createElement(i.a.Subheader,null,I.dt[a])))),n.a.createElement(d.a.Cell,null,n.a.createElement(i.a,{size:"tiny"},n.a.createElement(i.a.Content,null,I.ip[a],n.a.createElement(i.a.Subheader,null,I.endpoint[a])))),n.a.createElement(d.a.Cell,null,n.a.createElement(i.a,{size:"tiny"},n.a.createElement(i.a.Content,null,I.system[a],n.a.createElement(i.a.Subheader,null,I.event[a])))))}else e=null;return n.a.createElement(y.a,{basic:!0,padded:!1},n.a.createElement(d.a,{compact:"very",striped:!0,selectable:!0,size:"small"},n.a.createElement(d.a.Header,null,n.a.createElement(d.a.Row,null,n.a.createElement(d.a.HeaderCell,null," N "),n.a.createElement(d.a.HeaderCell,null," Sev/Facility "),n.a.createElement(d.a.HeaderCell,null," Timestamp/Received at "),n.a.createElement(d.a.HeaderCell,null," Source/Endpoint "),n.a.createElement(d.a.HeaderCell,null," System / Message "))),n.a.createElement(d.a.Body,null,e)))}())))),"data"===U&&(Y=n.a.createElement(h.a,{columns:4,stackable:!0,textAlign:"center",stretched:!0,padded:!0,relaxed:"very"},n.a.createElement(h.a.Row,null,n.a.createElement(i.a,{padded:!0},"Export events data as")),n.a.createElement(h.a.Row,{verticalAlign:"middle"},n.a.createElement(h.a.Column,null),n.a.createElement(h.a.Column,null,n.a.createElement(i.a,{icon:!0},n.a.createElement(x.a,{name:"file excel outline"}),"CSV"),n.a.createElement(g.a,null,n.a.createElement("a",{href:"/csv_alerts"},"Alerts only")),n.a.createElement(C.a,{hidden:!0}),n.a.createElement(g.a,null,n.a.createElement("a",{href:"/csv_all"},"All events"))),n.a.createElement(h.a.Column,null,n.a.createElement(i.a,{icon:!0},n.a.createElement(x.a,{name:"file code outline"}),"JSON"),n.a.createElement(g.a,null,n.a.createElement("a",{href:"/json_alerts"},"Alerts only")),n.a.createElement(C.a,{hidden:!0}),n.a.createElement(g.a,null,n.a.createElement("a",{href:"/json_all"},"All events"))),n.a.createElement(h.a.Column,null))));var Z=n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a.Item,{header:!0},Q),n.a.createElement(k.a.Item,{header:!0,value:"dashboard",onClick:$},n.a.createElement(x.a,{name:"heartbeat",size:"large"}),"Dashboard"),n.a.createElement(k.a.Item,{header:!0,value:"data",onClick:$},n.a.createElement(x.a,{name:"book",size:"large"}),"Data export"));return n.a.createElement(p.a.Pushable,{as:y.a},n.a.createElement(p.a,{as:k.a,animation:"slide along",inverted:!0,vertical:!0,visible:!0,width:"thin"},Z),n.a.createElement(p.a.Pusher,null,n.a.createElement(y.a,{basic:!0},Y)))}return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,{inverted:!0,active:P},n.a.createElement(w.a,{size:"massive"}," Loading ")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[257,1,2]]]);
//# sourceMappingURL=main.11e50a7b.chunk.js.map