(window.webpackJsonpnarwhal_web=window.webpackJsonpnarwhal_web||[]).push([[0],{254:function(e,a,t){e.exports=t(501)},445:function(e,a){},447:function(e,a){},501:function(e,a,t){"use strict";t.r(a);var l=t(1),n=t.n(l),r=t(31),c=t.n(r),o=(t(259),t(45)),u=t(19),i=t(212),m=t.n(i),s=t(518),E=t(221),d=t(510),v=t(94),h=t(516),y=t(517),g=t(514),f=t(59),b=t(515),p=t(507),x=t(513),w=t(511),k=t(512),C=t(508),A=["#8E3642","#A42150","#BC3148","#DA1E45","#F5D03E","#7AA543","#6C99D7","#CCD3D9"],S=[{key:0,text:"Emergency",value:0},{key:1,text:"Alert",value:1},{key:2,text:"Critical",value:2},{key:3,text:"Error",value:3},{key:4,text:"Warning",value:4},{key:5,text:"Notice",value:5},{key:6,text:"Informational",value:6},{key:7,text:"Debug",value:7}],O=[{key:0,text:"kern",value:0},{key:1,text:"user",value:1},{key:2,text:"mail",value:2},{key:3,text:"daemon",value:3},{key:4,text:"auth",value:4},{key:5,text:"syslog",value:5},{key:6,text:"lpr",value:6},{key:7,text:"news",value:7},{key:8,text:"uucp",value:8},{key:9,text:"cron",value:9},{key:10,text:"authpriv",value:10},{key:11,text:"ftp",value:11},{key:12,text:"ntp",value:12},{key:13,text:"security",value:13},{key:14,text:"console",value:14},{key:15,text:"solaris-cron",value:15},{key:16,text:"local0",value:16},{key:17,text:"local1",value:17},{key:18,text:"local2",value:18},{key:19,text:"local3",value:19},{key:20,text:"local4",value:20},{key:21,text:"local5",value:21},{key:22,text:"local6",value:22},{key:23,text:"local7",value:23}],_="ver.0.2",j="https://localhost:8000/server_data",D="https://localhost:8000/server_events",z=t(440);var R=function(){var e=Object(l.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(l.useState)(),i=Object(o.a)(c,2),R=i[0],L=i[1],T=Object(l.useState)(null),W=Object(o.a)(T,2),N=W[0],V=W[1],I=Object(l.useState)(!0),H=Object(o.a)(I,2),P=H[0],J=H[1],U=Object(l.useState)(0),q=Object(o.a)(U,2),B=q[0],F=q[1],G=Object(l.useState)("dashboard"),K=Object(o.a)(G,2),M=K[0],X=K[1];Object(l.useEffect)((function(){var e=m.a.create({httpsAgent:new z.Agent({keepAlive:!0,rejectUnauthorized:!1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PUT, GET, POST, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Accept, Content-Type, X-Requested-With"}})});function a(){var a,t=B+1;1===t&&(J(!0),a=j,e.get(a).then((function(e){L(JSON.parse(e.request.responseText))})).catch((function(e){console.log(e)})),function(a){e.get(a).then((function(e){V(JSON.parse(e.request.responseText)),r(!0)})).catch((function(e){console.log(e)}))}(D),R&&J(!1)),30===t&&(t=0),F(t)}var t=setInterval((function(){return a()}),1e3);return function(){clearInterval(t)}}));var $=function(e,a){var t=a.value;X(t)},Q=n.a.createElement(s.a,{inverted:!0},n.a.createElement(E.a,{src:"/static/img/nlogo.png",verticalAlign:"middle",size:"medium"}),n.a.createElement(s.a.Content,null,"Narwhal",n.a.createElement(s.a.Subheader,null,_)));if(!P){var Y="";"dashboard"===M&&(Y=n.a.createElement(y.a,{stretched:!0,padded:!0,relaxed:"very"},n.a.createElement(y.a.Column,{mobile:16,tablet:13,computer:14,id:"content"},n.a.createElement(y.a.Row,null,n.a.createElement(y.a,{padded:!0,relaxed:!0,columns:"equal"},n.a.createElement(y.a.Column,null,n.a.createElement(g.a.Group,{size:"small"},n.a.createElement(g.a,null,n.a.createElement(g.a.Value,null,R.total_events),n.a.createElement(g.a.Label,null," log entries ")),n.a.createElement(g.a,{color:"red"},n.a.createElement(g.a.Value,null,R.logAlertCount),n.a.createElement(g.a.Label,null," alerts ")),n.a.createElement(g.a,{color:"yellow"},n.a.createElement(g.a.Value,null,R.logWarningsCount),n.a.createElement(g.a.Label,null," warnings ")),n.a.createElement(g.a,{color:"green"},n.a.createElement(g.a.Value,null,R.logMessageCount),n.a.createElement(g.a.Label,null," messages ")))),n.a.createElement(y.a.Column,null,n.a.createElement(g.a.Group,{size:"small"},n.a.createElement(g.a,null,n.a.createElement(g.a.Value,null,R.messages_per_second),n.a.createElement(g.a.Label,null," msg / sec ")),n.a.createElement(g.a,null,n.a.createElement(g.a.Value,null,R.seconds_between_messages),n.a.createElement(g.a.Label,null," avg.interval, sec. ")))),n.a.createElement(y.a.Column,null,n.a.createElement(g.a.Group,{size:"small"},n.a.createElement(g.a,null,n.a.createElement(g.a.Value,null,R.redis_used_memory_human),n.a.createElement(g.a.Label,null," used redis memory ")),n.a.createElement(g.a,null,n.a.createElement(g.a.Value,null,R.redis_total_system_memory_human),n.a.createElement(g.a.Label,null," total redis memory ")))))),n.a.createElement(y.a.Row,null,n.a.createElement(u.d,{height:250,width:1200,margin:{top:20,right:10,bottom:10,left:10}},n.a.createElement(u.a,null),n.a.createElement(u.f,{type:"category",dataKey:"x",name:"timeline"}),n.a.createElement(u.g,{type:"number",dataKey:"y",name:"severity"}),n.a.createElement(u.h,{type:"number",dataKey:"z",name:"amount",unit:"log records"}),n.a.createElement(u.e,{cursor:{strokeDasharray:"3 3"}}),n.a.createElement(u.b,null),n.a.createElement(u.c,{name:S[0].text,data:R.ChartData0,fill:A[0]}),n.a.createElement(u.c,{name:S[1].text,data:R.ChartData1,fill:A[1]}),n.a.createElement(u.c,{name:S[2].text,data:R.ChartData2,fill:A[2]}),n.a.createElement(u.c,{name:S[3].text,data:R.ChartData3,fill:A[3]}),n.a.createElement(u.c,{name:S[4].text,data:R.ChartData4,fill:A[4]}),n.a.createElement(u.c,{name:S[5].text,data:R.ChartData5,fill:A[5]}),n.a.createElement(u.c,{name:S[6].text,data:R.ChartData6,fill:A[6]}),n.a.createElement(u.c,{name:S[7].text,data:R.ChartData7,fill:A[7]}))),n.a.createElement(y.a.Row,null,function(){var e=[];if(!0===t)for(var a=0;a<N.dt.length;a+=1){var l="yellow";N.severity[a]<4&&(l="red"),5===N.severity[a]&&(l="green"),6===N.severity[a]&&(l="blue"),7===N.severity[a]&&(l="grey"),e[a]=n.a.createElement(d.a.Row,{key:"eventTableRow".concat(a)},n.a.createElement(d.a.Cell,null,n.a.createElement(v.a,{circular:!0,color:l},n.a.createElement("b",null,N.n[a]))),n.a.createElement(d.a.Cell,null,n.a.createElement(s.a,{size:"tiny"},n.a.createElement(s.a.Content,null,S[N.severity[a]].text,n.a.createElement(s.a.Subheader,null,O[N.facility[a]].text)))),n.a.createElement(d.a.Cell,null,n.a.createElement(s.a,{size:"tiny"},n.a.createElement(s.a.Content,null,N.timestamp[a],n.a.createElement(s.a.Subheader,null,N.dt[a])))),n.a.createElement(d.a.Cell,null,n.a.createElement(s.a,{size:"tiny"},n.a.createElement(s.a.Content,null,N.ip[a],n.a.createElement(s.a.Subheader,null,N.endpoint[a])))),n.a.createElement(d.a.Cell,null,n.a.createElement(s.a,{size:"tiny"},n.a.createElement(s.a.Content,null,N.system[a],n.a.createElement(s.a.Subheader,null,N.event[a])))))}else e=null;return n.a.createElement(h.a,{basic:!0,padded:!1},n.a.createElement(d.a,{compact:"very",striped:!0,selectable:!0,size:"small"},n.a.createElement(d.a.Header,null,n.a.createElement(d.a.Row,null,n.a.createElement(d.a.HeaderCell,null," N "),n.a.createElement(d.a.HeaderCell,null," Sev/Facility "),n.a.createElement(d.a.HeaderCell,null," Timestamp/Received at "),n.a.createElement(d.a.HeaderCell,null," Source/Endpoint "),n.a.createElement(d.a.HeaderCell,null," System / Message "))),n.a.createElement(d.a.Body,null,e)))}())))),"data"===M&&(Y=n.a.createElement(y.a,{columns:4,stackable:!0,textAlign:"center",stretched:!0,padded:!0,relaxed:"very"},n.a.createElement(y.a.Row,null,n.a.createElement(s.a,{padded:!0},"Export events data as")),n.a.createElement(y.a.Row,{verticalAlign:"middle"},n.a.createElement(y.a.Column,null),n.a.createElement(y.a.Column,null,n.a.createElement(s.a,{icon:!0},n.a.createElement(f.a,{name:"file excel outline"}),"CSV"),n.a.createElement(b.a,null,n.a.createElement("a",{href:"/csv_alerts"},"Alerts only")),n.a.createElement(p.a,{hidden:!0}),n.a.createElement(b.a,null,n.a.createElement("a",{href:"/csv_all"},"All events"))),n.a.createElement(y.a.Column,null,n.a.createElement(s.a,{icon:!0},n.a.createElement(f.a,{name:"file code outline"}),"JSON"),n.a.createElement(b.a,null,n.a.createElement("a",{href:"/json_alerts"},"Alerts only")),n.a.createElement(p.a,{hidden:!0}),n.a.createElement(b.a,null,n.a.createElement("a",{href:"/json_all"},"All events"))),n.a.createElement(y.a.Column,null))));var Z=n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a.Item,{header:!0},Q),n.a.createElement(x.a.Item,{header:!0,value:"dashboard",onClick:$},n.a.createElement(f.a,{name:"heartbeat",size:"large"}),"Dashboard"),n.a.createElement(x.a.Item,{header:!0,value:"data",onClick:$},n.a.createElement(f.a,{name:"book",size:"large"}),"Data export"));return n.a.createElement(w.a.Pushable,{as:h.a},n.a.createElement(w.a,{as:x.a,animation:"slide along",inverted:!0,vertical:!0,visible:!0,width:"thin"},Z),n.a.createElement(w.a.Pusher,null,n.a.createElement(h.a,{basic:!0},Y)))}return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{inverted:!0,active:P},n.a.createElement(C.a,{size:"massive"}," Loading ")))},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(n.a.createElement(R,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");L?(!function(e,a){fetch(e).then((function(t){var l=t.headers.get("content-type");404===t.status||null!=l&&-1===l.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):T(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):T(a,e)}))}}()}},[[254,1,2]]]);
//# sourceMappingURL=main.cc2f5fb8.chunk.js.map